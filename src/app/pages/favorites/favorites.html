<div class="favorites-page">
  <div class="favorites-header">
    <h1>–ö–æ—Ä–∑–∏–Ω–∞</h1>
    @if (cartCount > 0) {
    <p>–£ –≤–∞—Å {{ cartCount }} —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ</p>
    } @else {
    <p>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
    }
  </div>

  @if (cartCount > 0) {
  <div class="favorites-content">
    <div class="favorites-grid">
      @for (product of cartProducts; track trackByProductId($index, product)) {
      <div class="favorite-item">
        <div class="product-image">
          <img [src]="product.image" [alt]="product.alt" loading="lazy" />
          <button
            class="remove-button"
            (click)="removeFromCart(product.id)"
            title="–£–±—Ä–∞—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã"
          >
            ‚úï
          </button>
        </div>
        <div class="product-info">
          <h3>{{ product.name }}</h3>
          @if (product.specifications.length > 0) {
          <div class="specifications">
            @for (spec of product.specifications; track spec.label) {
            <div class="spec-item">
              <span class="spec-label">{{ spec.label }}</span>
              <span class="spec-value">{{ spec.value }}</span>
            </div>
            }
          </div>
          }
          <div class="actions">
            <a routerLink="/catalog" class="view-catalog-btn">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ</a>
          </div>
        </div>
      </div>
      }
    </div>
  </div>
  } @else {
  <div class="empty-favorites">
    <div class="empty-icon">üõí</div>
    <h2>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h2>
    <p>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É</p>
    <a routerLink="/catalog" class="go-to-catalog-btn">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
  </div>
  }
</div>
